{% extends 'base.html' %}

{% block title %}{{ single_blog.title }} | Django Journal{% endblock %}

{% block content %}
<article class="single-post-layout">
  <div class="row g-4 g-xl-5 align-items-start">
    <div class="col-12 col-xl-8">
      <section class="single-post-card reveal-up">
        <header class="single-header">
          <p class="single-post-category">{{ single_blog.category }}</p>
          <h1 class="single-post-title">{{ single_blog.title }}</h1>
          <p class="post-meta">{{ single_blog.created_at|date:"F j, Y" }} | {{ single_blog.author }}</p>
        </header>

        {% if single_blog.featured_image %}
        <figure class="single-post-figure">
          <img class="img-fluid" src="{{ single_blog.featured_image.url }}" alt="{{ single_blog.title }}">
        </figure>
        {% endif %}

        <section class="single-post-content">
          <p class="single-post-summary">{{ single_blog.short_description }}</p>
          <div class="article-body">{{ single_blog.blog_body|linebreaks }}</div>
        </section>
      </section>
    </div>

    <aside class="col-12 col-xl-4">
      <div class="sidebar-stack sticky-top-panel">
        <section class="sidebar-card reveal-up">
          <h4>Browse Categories</h4>
          <ul class="list-unstyled mb-0 sidebar-list">
            {% for cat in categories %}
            <li><a href="{% url 'posts_by_category' cat.id %}">{{ cat.category_name }}</a></li>
            {% empty %}
            <li class="text-muted">No categories available.</li>
            {% endfor %}
          </ul>
        </section>

        <section class="sidebar-card reveal-up">
          <h4>Quick Links</h4>
          <ul class="list-unstyled mb-0 sidebar-list">
            <li><a href="{% url 'home' %}">Back to Home</a></li>
            <li><a href="#">Author Profile</a></li>
          </ul>
        </section>
      </div>
    </aside>
  </div>
</article>
{% endblock %}

